<view class="page" data-weui-theme="{{theme}}">
  <view class="usercenter-container">
    <!-- 用户信息卡片 -->
    <view class="user-card">
      <view class="user-info">
        <image class="avatar" src="{{userInfo.avatar || '/assets/icons/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="info-content" bindtap="toUserInfo">
          <block wx:if="{{isLogin}}">
            <text class="nickname">{{userInfo.nickname}}</text>
            <text class="member-id">会员号：{{userInfo.memberId}}</text>
          </block>
          <block wx:else>
            <text class="login-tip">点击登录</text>
          </block>
        </view>
      </view>
      <view class="member-level">
        <image src="/assets/icons/vip.png"></image>
        <text>{{userInfo.levelName || '普通会员'}}</text>
      </view>
    </view>

    <!-- 会员权益 -->
    <view class="benefits-section">
      <view class="benefit-item" wx:for="{{benefits}}" wx:key="id" bindtap="navigateToBenefit" data-id="{{item.id}}">
        <text class="number">{{item.number}}</text>
        <text class="label">{{item.label}}</text>
      </view>
    </view>

    <!-- 快捷入口 -->
    <view class="quick-access">
      <view class="section-title">快捷服务</view>
      <view class="grid-list">
        <view class="grid-item" wx:for="{{quickAccess}}" wx:key="id" bindtap="handleQuickAccess" data-type="{{item.type}}">
          <image src="{{item.icon}}"></image>
          <text>{{item.name}}</text>
        </view>
      </view>
    </view>

    <!-- 功能列表 -->
    <view class="function-list">
      <view class="function-group" wx:for="{{functionGroups}}" wx:key="title">
        <view class="group-title">{{item.title}}</view>
        <view class="group-content">
          <view class="function-item" 
                wx:for="{{item.items}}" 
                wx:key="name" 
                wx:for-item="subItem"
                bindtap="handleFunction" 
                data-type="{{subItem.type}}"
          >
            <view class="item-left">
              <image src="{{subItem.icon}}"></image>
              <text>{{subItem.name}}</text>
            </view>
            <image class="arrow" src="/assets/icons/arrow-right.png"></image>
          </view>
        </view>
      </view>
    </view>

    <!-- 退出登录 -->
    <view class="logout-btn" wx:if="{{isLogin}}" bindtap="logout">
      退出登录
    </view>
  </view> 
</view>